# 运算符

Python 运算符是用于执行变量或值之间操作的符号。以下是主要分类及示例：

## 1. 算术运算符

用于数学计算：
| 运算符 | 描述       | 示例         | 结果  |
|--------|------------|--------------|-------|
| `+`    | 加法       | `5 + 3`      | `8`   |
| `-`    | 减法       | `5 - 3`      | `2`   |
| `*`    | 乘法       | `5 * 3`      | `15`  |
| `/`    | 除法       | `6 / 2`      | `3.0` |
| `%`    | 取模（余数）| `7 % 3`      | `1`   |
| ``   | 幂运算     | `2  3`     | `8`   |
| `//`   | 整除       | `7 // 3`     | `2`   |

## 2. 比较运算符

返回布尔值（`True`/`False`）：

| 运算符 | 描述       | 示例         | 结果  |
|--------|------------|--------------|-------|
| `==`   | 等于       | `5 == 3`     | `False` |
| `!=`   | 不等于     | `5 != 3`     | `True`  |
| `>`    | 大于       | `5 > 3`      | `True`  |
| `<`    | 小于       | `5 < 3`      | `False` |
| `>=`   | 大于等于   | `5 >= 5`     | `True`  |
| `<=`   | 小于等于   | `3 <= 5`     | `True`  |

## 3. 逻辑运算符

组合条件：

| 运算符 | 描述       | 示例                     | 结果  |
|--------|------------|--------------------------|-------|
| `and`  | 与（两者真）| `(5 > 3) and (2 < 4)`    | `True` |
| `or`   | 或（一者真）| `(5 > 3) or (5 < 2)`     | `True` |
| `not`  | 非（取反） | `not (5 == 3)`           | `True` |

## 4. 赋值运算符

简化赋值操作：

| 运算符 | 描述       | 等价于        | 示例（`x=5`） |
|--------|------------|---------------|---------------|
| `=`    | 赋值       | `x = 5`       | `x=5`         |
| `+=`   | 加后赋值   | `x = x + 3`   | `x=8`         |
| `-=`   | 减后赋值   | `x = x - 2`   | `x=3`         |
| `*=`   | 乘后赋值   | `x = x * 2`   | `x=10`        |
| `/=`   | 除后赋值   | `x = x / 2`   | `x=2.5`       |
| `//=`  | 整除赋值   | `x = x // 2`  | `x=2`         |
| `%=`   | 取模赋值   | `x = x % 3`   | `x=2`         |
| `=`  | 幂赋值     | `x = x  2`  | `x=25`        |

## 5. 位运算符

操作二进制位：

| 运算符 | 描述       | 示例（`a=60`, `b=13`） |
|--------|------------|--------------------------|
| `&`    | 按位与     | `a & b` → `12` (二进制 `0000 1100`) |
| `\|`   | 按位或     | `a \| b` → `61` (二进制 `0011 1101`) |
| `^`    | 按位异或   | `a ^ b` → `49` (二进制 `0011 0001`) |
| `~`    | 按位取反   | `~a` → `-61`（补码表示） |
| `<<`   | 左移       | `a << 2` → `240`（`1111 0000`） |
| `>>`   | 右移       | `a >> 2` → `15`（`0000 1111`） |

## 6. 成员运算符

检查序列成员：

| 运算符 | 描述                   | 示例                     |
|--------|------------------------|--------------------------|
| `in`   | 在序列中找到返回 `True` | `"a" in ["a", "b"]` → `True` |
| `not in` | 不在序列中返回 `True` | `3 not in [1, 2]` → `True` |

## 7. 身份运算符

比较对象内存地址：

| 运算符 | 描述                   | 示例                     |
|--------|------------------------|--------------------------|
| `is`   | 引用同一对象返回 `True` | `a = []; b = a; a is b` → `True` |
| `is not` | 引用不同对象返回 `True` | `a = []; b = []; a is not b` → `True` |

::: warning 注意
`is` 与 `==` 的区别  
 - `is` 比较内存地址（是否同一对象）  
 - `==` 比较值是否相等
:::

## 8. 三元运算符

简化条件赋值：

```python
x = 10
y = 20
max_val = x if x > y else y  # 结果：20
```

## 运算符优先级（从高到低）

1. `()`（括号）
2. ``（幂）
3. `~` `+` `-`（按位取反、正负号）
4. `*` `/` `%` `//`（乘除）
5. `+` `-`（加减）
6. `<<` `>>`（位移）
7. `&`（按位与）
8. `^` `|`（按位异或/或）
9. `==` `!=` `>` `<` `>=` `<=`（比较）
10. `is` `is not` `in` `not in`（身份/成员）
11. `not` > `and` > `or`（逻辑）

提示：使用括号 `()` 明确优先级可增强代码可读性。

掌握这些运算符是编写高效 Python 代码的基础！

## in 运算符

 `in` 运算符用于检查列表、元组或任何其他序列数据类型中是否存在某个值。如果在序列中找到了该值，则返回布尔值 `True`，否则返回 `False`。

```python
my_list = [1, 2, 3, 4, 5]
x = 3

if x in my_list:
    print("元素在列表中")
else:
    print("元素不在列表中")

# 输出:
# 
# 元素在列表中
```

```python
my_string = "Hello World"
x = "o"

if x in my_string:
    print("字符在给定字符串中")
else:
    print("字符不在给定字符串中")

# 输出:
# 
# 字符在给定字符串中
```


## 逻辑运算符

有三种：与（and）、或（or）、非（not）

### and 运算符

`and` 运算符用于 `if` 语句中，以测试多个条件是否为真。如果条件都为真，则返回 `True`，否则返回 `False`。

```python
x = 5
y = 10
if x > 0 and y > 0:
    print("x 和 y 都是正数)
else:
    print("x 和 y 至少有一个不是正数)
```

### or 运算符

`or` 运算符是一个逻辑运算符，如果两个操作数中的任何一个为 `True`，则返回 `True`，如果两个操作数都为 `False`，则返回 `False`。它可以在条件语句或布尔表达式中使用。

### 条件语句中的 `or` 运算符

```python
age = 25
if age < 18 or age > 60:
    print("你不满足该份工作年龄要求")
else:
    print("你满足该份工作年龄要求")

# 输出: `你满足该份工作年龄要求`
```

在此示例中，`or` 运算符用于检查 `age` 变量是否小于 18 或大于 60。如果任一条件为 `True`，它将打印一条消息，说明该人不满足该份工作年龄要求。否则，它将打印一条消息，说明该人满足该份工作年龄要求。

### 布尔表达式中的 `or` 运算符

```python
x = 5
y = 10
result = x > 3 or y < 9
print(result)

# 输出: `True`
```

在此示例中，`or` 运算符用于布尔表达式中，以检查 `x` 是否大于 3 或 `y` 是否小于 9。由于 `x` 大于 3，因此表达式求值为 `True`，并且 `result` 打印为 `True`。

### not 运算符

`not` 运算符用于反转布尔表达式的逻辑状态。如果表达式为 `False`，则返回 `True`；如果表达式为 `True`，则返回 `False`。

### `not` 与布尔变量一起使用

```python
flag = False
print(not flag)

# 输出： True
```

### `not` 与比较运算符一起使用

```python
x = 10
y = 5
print(not x > y) 

# 输出： False
```

## 布尔运算符

布尔运算符用于评估真或假条件。这些运算符包括 `and`、`or` 和 `not`。

```python
x = 5
y = 10
z = 15

if x < y and z > y:
    print("Both conditions are true")
    
# Output: `Both conditions are true`
```
## 不等于运算符

不等号运算符用于比较两个值，如果它们不相等，则返回 `True`；如果它们相等，则返回 `False`。不等号运算符使用的符号是 `!=`。

语法：

```python
value1 != value2
```

```python
a = 5
b = 3
if a != b:
    print("a is not equal to b")

# Output:
# 
# a is not equal to b
```

## 除法

在 Python 中，有三种除法运算符：单正斜杠 `/` 运算符、双正斜杠 `//` 运算符和百分号 `%` 运算符。

`/` 运算符执行常规除法并返回浮点数结果，而 `//` 运算符执行向下取整除法并返回商的整数。`%` 运算符返回除法的余数。`%` 的另一个名称是模运算符

```python
x = 10
y = 3
result = x / y
print(result)

# 输出：3.3333333333333335
```

```python
x = 10
y = 3
floor_division = x // y 
# Use modulo operator
remainder = x % y 
print(floor_division)
print(remainder)

# 输出: 
# 
# 3
# 1
```

## : 运算符

`:` 运算符用于切片序列，例如列表、元组和字符串。它允许你通过指定用冒号分隔的起始索引和结束索引来提取序列的一部分。你还可以指定步长。

```python
### 创建列表
my_list = [0, 1, 2, 3, 4, 5]

### 从索引2到索引4切片列表
sliced_list = my_list[2:5]

### 打印结果
print(sliced_list)

# 输出:
# 
# [2, 3, 4]
```

```python
### 定义字符串
my_string = "Hello world!"

### 截取字符串中索引1到索引4的字符
sliced_string = my_string[1:5]

### 打印结果
print(sliced_string)

# 输出:
# 
# ello
```

## 运算符重载

运算符重载使我们能够为特定类或对象以自定义方式定义运算符的行为。这有助于提高代码的清晰度和可读性。Python 支持对大多数内置运算符进行运算符重载，例如 `+`、`-`、`/`、`//`、`%`、`&`、`|`、`^`、`>>`、`<<`、`<`、`>`、`<=`、`>=`、`==`、`!=` 等。

```python
class Rectangle:
    def __init__(self, length, width):
        self.length = length
        self.width = width

    def __str__(self):
        return f"Rectangle({self.length}, {self.width})"

    def __add__(self, other):
        return Rectangle(self.length + other.length, self.width + other.width)

r1 = Rectangle(4, 3)
r2 = Rectangle(2, 5)
print(r1 + r2)

# 输出： Rectangle(6, 8)
```

## 学运算符

### 加法运算符

加法运算符由 `+` 表示，用于两个或多个数字求和。

```python
# 两个数字相加
num1 = 10
num2 = 20
result = num1 + num2 
print(result)  # Output: 30

# 多个数字相加
result = num1 + num2 + 5
print(result)  # Output: 35
```

### 除法运算符

除法运算符由 `/` 表示。它用于将一个数字除以另一个数字，并返回一个浮点数作为结果。

```python
# 除法
num1 = 10
num2 = 2
result = num1 / num2 
print(result)  # Output: 5.0  (float)

# 求余
num1 = 7
num2 = 3
result = num1 / num2 
remainder = num1 % num2
print(result)  # Output: 2.3333333333333335 (float)
print(remainder) # Output: 1 (int)
```

## 按位运算符

位运算符用于在 Python 中对整数执行按位运算。这些运算通过操作整数的二进制表示中的各个位来工作。这在低级编程中很有用，例如优化代码或使用硬件。

Python 中有六个可用的按位运算符：

- `&`（按位 AND）：此运算符返回一个新整数，其位仅在操作数的两个相应位均为 1 时才设置为 1。
- `|`（按位 OR）：此运算符返回一个新整数，其位在操作数的任何相应位为 1 时设置为 1。
- `^`（按位 XOR）：此运算符返回一个新整数，其位仅在操作数的相应位之一为 1 时设置为 1。
- `~`（按位 NOT）：此运算符返回操作数的补码，即它翻转操作数的所有位。
- `<<`（左移）：此运算符将操作数的位向左移动指定数量的位。移动的位用 0 填充。
- `>>`（右移）：此运算符将操作数的位向右移动指定数量的位。对于正数，移动的位用 0 填充，对于负数，用 1 填充。


## 运算符顺序

在 Python 中，就像在数学中一样，运算符的求值顺序是特定的。这称为运算顺序。Python 中的运算符优先级如下

1. 括号
2. 指数运算
3. 乘法、除法和取模（从左到右）
4. 加法和减法（从左到右）

```python
result = 5 + 3 * 2 # 先计算 3*2, 然后和 5 相加
print(result) # output: 11

result = (5 + 3) * 2 # 先计算 5+3，然后再乘以 2
print(result) # output: 16
```

觉得不好记，那就多用括号😄

## 海象运算符

海象运算符表示为 `:=` 符号，用于在单个表达式中将值分配给变量。

### 带有“if”语句的海象运算符

```python
if (a:=2+3) > 4:
    print(f"{a} is greater than 4")
else:
    print(f"{a} is less than or equal to 4")
```

### 带有“while”循环的海象运算符

```python
import random

while (num:=random.randint(1,10)) != 3:
     print(num)
```


## 指数运算符

指数运算符表示为 ``，用于将数字乘方。它是一个二元运算符，需要两个操作数；第一个是底数，第二个是指数。

```python
num = 2
exp = 3
result = num  exp # 计算 2 的 3 次方
print(result)  
```

更简洁的写法：

```python
num = 2
exp = 3
num = exp
print(num)  
```



参考：

[Python 基本运算符：IN、AND、OR、NOT 及其他运算符示例 - 《Dive into Python》中文版](https://diveintopython.cn/learn/statements/operators)
